CC = gcc
CFLAGS = -fno-stack-protector -m32 -Og -fno-asynchronous-unwind-tables -no-pie -fcf-protection=none -z execstack

all: main

main: main.s
	$(CC) $(CFLAGS) $^ -o $@

main.s: code.c
	$(CC) -S $(CFLAGS) $^ -o $@

clean:
	rm main main.s