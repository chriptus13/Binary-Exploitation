#include <stdio.h>
#include <stdlib.h>

#define BUFF_SIZE 16

int main(void) {

    char *buff1 = malloc(BUFF_SIZE);
    char *buff2 = malloc(BUFF_SIZE);

    strcpy(buff2, "AAAAAAAAA");

    printf("Buffer 1 address: %p\n", buff1);
    printf("Buffer 2 address: %p\n", buff2);
    printf("Distance: %ld\n", (unsigned long) buff2 - (unsigned long) buff1);

    printf("Reading buffer1:\n");

    gets(buff1);

    printf("Buffer 2: %s\n", buff2);

    // If we try to free buff2 we will get 'munmap_chunk(): invalid pointer' because we overwrote internal information
    // free(buff2);
    free(buff1);

    return 0;
}